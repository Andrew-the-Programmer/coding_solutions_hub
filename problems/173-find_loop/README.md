G. Найти цикл — База 2024 2 сем. Задание 2. Алгоритмы — Яндекс.Контест

# G. Найти цикл

| Ограничение времени | 2 секунды |
| --- | --- |
| Ограничение памяти | 128Mb |
| Ввод | стандартный ввод или input.txt |
| Вывод | стандартный вывод или output.txt |

Дан ориентированный невзвешенный граф. Необходимо определить есть ли в нём циклы, и если есть, то вывести любой из них.

## Формат ввода

В первой строке входного файла находятся два натуральных числа N и M (1 ≤ N ≤ 100000, M ≤ 100000) — количество вершин и рёбер в графе соответственно. Далее в M строках перечислены рёбра графа. Каждое ребро задаётся парой чисел — номерами начальной и конечной вершин соответственно.

## Формат вывода

Если в графе нет цикла, то вывести NO, иначе — YES и затем перечислить все вершины в порядке обхода цикла.

### Пример 1

| Ввод Скопировать ввод | Вывод Скопировать вывод |
| --- | --- |
| `2 2 1 2 2 1 ` | `YES 1 2  ` |

### Пример 2

| Ввод Скопировать ввод | Вывод Скопировать вывод |
| --- | --- |
| `2 2 1 2 1 2 ` | `NO ` |
