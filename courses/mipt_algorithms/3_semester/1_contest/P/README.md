P. Нейминг в условиях сказочного маркетинга — База 2024 3 сем. Задание 1. Строки — Яндекс.Контест

# P. Нейминг в условиях сказочного маркетинга

| Ограничение времени | 2 секунды |
| --- | --- |
| Ограничение памяти | 256.0 Мб |
| Ввод | стандартный ввод или input.txt |
| Вывод | стандартный вывод или output.txt |

Капитан Крюк решил завязать с пиратским прошлым и заняться цветочным бизнесом.
Но с таким неймингом бизнес не построишь, поэтому капитан решил придумать себе новое имя.
Процесс происходит следующим образом. От оператора вычислительной машины поступает qq команд
к пустой строке ss двух возможных типов:

1. Команда добавить букву в конец строки ss дается сочетанием "++ bb", где bb – буква, дописываемая вычислительной машиной в конец строки ss.
1. Т.к. имя капитана должно быть уникально, чтобы бывшего пирата нельзя было обвинить в плагиате и отсутствии воображения,
   требуется передавать команду о проверке суффикса строки ss на неповторимость. Формат команды имеет вид "?? kk",
   где kk – длина суффикса текущей строки ss, который требуется проверить на уникальность.
   Суффикс считается таким, если он встречается в строке ss в качестве подстроки ровно один раз (начиная с позиции ∣s∣−k∣s∣−k).

После каждого запроса типа 2, оператор хочет видеть в выводе "++", если заданный суффикс уникален, или "−−" в ином случае.

## Формат ввода

В первой строке записано единственное целое число qq (1≤q≤1061≤q≤106) – количество команд.

В следующих qq строках записаны команды в формате, описанном в условии задачи. Гарантируется, что все запросы корректны, а именно:

- Первая команда – команда первого типа.
- В командах первого типа символ cc является строчной буквой латинского алфавита.
- В командах второго типа число kk положительно и не больше текущей длины строки ss.

## Формат вывода

Выведите ответы на запросы.

## Пример

| Ввод Скопировать ввод | Вывод Скопировать вывод |
| --- | --- |
| `14 + a ? 1 + a ? 1 ? 2 + b ? 1 + a ? 1 ? 2 + b ? 1 ? 2 ? 5 ` | `+ - + + - + - - + ` |
