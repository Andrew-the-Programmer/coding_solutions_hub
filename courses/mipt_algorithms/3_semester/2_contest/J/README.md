J\*. День рождения Кар-Карыча или трагедия на фоне одиночества — База 2023 3 сем. Задание 1. RMQ/RSQ — Яндекс.КонтестВаше участие в соревновании завершено. Вы можете дорешивать задачи и отправлять решения вне соревнования

# J\*. День рождения Кар-Карыча или трагедия на фоне одиночества

| Ограничение времени | 0.5 секунд |
| --- | --- |
| Ограничение памяти | 256.0 Мб |
| Ввод | стандартный ввод или input.txt |
| Вывод | стандартный вывод или output.txt |

*Все взрослые, которые не могут похвастаться тем, что с каждым годом прыгают выше и бегают быстрее, знают, что день рождения — праздник неоднозначный. Трудно поверить, но иногда его отмечать даже совсем не хочется. Не хочется никого приглашать, ну если только чтоб все пришли сами. Как бы невзначай.*

Как живут смешарики? Так будто собираются жить вечно. И друзья их будут жить вечно, и родственники… Поэтому обязательно нужно соблюдать все эти условности: пригласил меня Кар-Карыч на день рождения — надо идти. Но перед тем как идти, надо же ещё обязательно спросить: «А что же тебе подарить, дорогой мой пернатый друг?». Предположив тем самым, что именно за этим-то он вас и позвал, чтоб вы ему что-нибудь этакое подарили. А если не позвал? Тогда надо сидеть гордо дома и дуться, лишь написав прислав письмо или позвонив. В этой задаче вам предстоит доказать, что вы достойный член маленькой общины, и рады дням рождениям своих друзей, как своему. А именно, вам предстоит реализовать сбалансированное дерево смешариков.

## Формат ввода

Входной файл содержит описание операций с деревом смешариков, их количество не превышает 105105. В каждой строке находится одна из следующих операций.

- *insert x* — добавить в дерево смешарика с настроением xx. Если такой уже есть, то ничего делать не надо.
- *delete x* — удалить из дерева смешарика с настроением xx. Если его там нет, то ничего делать не надо.
- *exists x* — если имеется смешарик с настроением xx, выведите *true*, иначе, false.
- *next x* — выведите настроение такого смешарика, что оно лучше чем xx, но минимально среди таких или *none*, если такого нет. Это нужно, чтобы понимать, кто наполнит светом маленький праздник, а кому стоит передохнуть наедине с собой.
- *prev x* — выведите настроение такого смешарика, что оно хуже чем xx, но максимально среди таких или none, если такого нет.
- *kth k* — выведите kk-ю величину настроения (нумерация с нуля). Если такого не существует, то выведите none.

Все числа во входном файле по модулю не превышают 109109.

## Формат вывода

Выведите последовательно результат выполнения всех операций выше. Следуйте формату выходного файла из примера.

## Пример

| Ввод Скопировать ввод | Вывод Скопировать вывод |
| --- | --- |
| `insert 2 insert 5 insert 3 exists 2 exists 4 next 4 prev 4 delete 5 next 4 prev 4 kth 0 kth 2 ` | `true false 5 3 none 3 2 none ` |
